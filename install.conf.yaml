
- defaults:
    link: { create: true, relink: true, relative: true, canonicalize: false }
    shell: { stdout: true, stderr: true }

- clean: ['~', '~/.local/bin', '~/.local/share/bash-completion/completions']

- link:
    ~/.dotfiles: { path: '', if: "[ ! -d ~/.dotfiles ]" }

    ~/.bash_logout:        .bash_logout
    ~/.bash_profile:       .bash_profile
    ~/.bashrc:             .bashrc
    ~/.config/bat/config:  .config/bat/config
    ~/.config/fastfetch:   .config/fastfetch
    ~/.config/tmux:        .config/tmux
    ~/.gitconfig:          .gitconfig
    ~/.gitmux.conf:        .gitmux.conf
    ~/.minttyrc:           .minttyrc
    ~/.vimrc:              .vimrc

    ~/.config/lazydocker/config.yml:
      path: .config/lazydocker/config.local.yml
      if: "[ -f .config/lazydocker/config.local.yml ]"

    ~/.local/bin/git-context-graph: git-context-graph/git-context-graph
    ~/.local/bin/git-mr:            git-mr/git-mr

    ~/.local/bin/git-aliases:       git-scripts/git-aliases
    ~/.local/bin/git-continue:      git-scripts/git-continue
    ~/.local/bin/git-fast-forward:  git-scripts/git-fast-forward
    ~/.local/bin/git-force-push:    git-scripts/git-force-push
    ~/.local/bin/git-is-clean:      git-scripts/git-is-clean
    ~/.local/bin/git-separator:     git-scripts/git-separator
    ~/.local/bin/git-update:        git-scripts/git-update

    ~/.local/bin/termcolors: scripts/print256colours.sh

    ~/.local/share/bash-completion/completions/git-context-graph.bash: git-context-graph/git-context-graph-completion.bash
    ~/.local/share/bash-completion/completions/git-mr.bash:            git-mr/git-mr-completion.bash
    ~/.local/share/bash-completion/completions/git-mu.bash:            git-scripts/git-mu-completion.bash

    # Windows desktop
    ~/AutoHotkey: { path: autohotkey, if: '[ -f /git-bash.exe ]' }

    # Linux desktop
    ~/.config/autokey/data/Phrases: { path: autokey/Phrases, if: "[ -d ~/.config/autokey ]" }
    ~/.config/autokey/data/Scripts: { path: autokey/Scripts, if: "[ -d ~/.config/autokey ]" }
    ~/.xbindkeys:                   { path: .xbindkeys,      if: "command -v xbindkeys" }
    ~/.Xmodmap:                     { path: .Xmodmap,        if: "command -v xmodmap" }

    # Mac desktop
    ~/.config/karabiner/assets/complex_modifications/: { path: "karabiner/*", glob: true, if: "[ -d ~/.config/karabiner ]" }

- shell:
  - [bash ~/.dotfiles/scripts/install-local.sh,   Initializing local files]
  - [bash ~/.dotfiles/scripts/install-devices.sh, Configuring devices]
